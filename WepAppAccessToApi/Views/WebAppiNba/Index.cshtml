@model IEnumerable<WepAppAccessToApi.Models.UserFromNbaApii>

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>

<div class="card mt-5 shadow-lg bg-light">
    <div class="card-header">
        List of players

    </div>
    <div class="card-body">
        <div class="d-flex">
            <h5 class="card-title"> NBA </h5>
        </div>
        <p class="card-text">
            <div class="row">
                <div class="col">

        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Id)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Password)
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
        @foreach (var item in Model) {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Id)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Password)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
                        @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
                        @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ }) |
                        <a id="btnAjax" asp-action="TestAjax">Test Ajax</a>
                    </td>
                </tr>
        }
            </tbody>
        </table>
     </div>
</div>
</div>
</div>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

@section Scripts {
    <script>
        $('#btnAjax').click(function () {
            $.ajax({
                url: '/WebAppiNba/TestAjax',
                contentType: 'application/html; charset=utf-8',
                type: 'GET',
                dataType: 'json'
            })
                .success(function (data) {
                    alert("success" + JSON.stringify(data));
                })
                .error(function (xhr, status) {
                    alert("fail");
                })
        });
    </script>
    }